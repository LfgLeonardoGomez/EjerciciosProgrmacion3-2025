for (let i = 0; i < 50000; i++) { 

  db.pedidos.insertOne({ 

    fecha: new Date(2024, Math.floor(Math.random()*12), Math.floor(Math.random()*28)+1), 

    cliente: ["Ana", "Luis", "Pedro", "Carla"][Math.floor(Math.random()*4)], 

    ciudad: ["Madrid", "Barcelona", "Sevilla", "Valencia"][Math.floor(Math.random()*4)], 

    monto: Math.floor(Math.random()*500) + 20 

  }); 

} 

db.pedidos.find({ ciudad: "Madrid" }) 

db.pedidos.find({ monto: { $gt: 300 } }) 

db.pedidos.find({ ciudad: "Madrid", monto: { $gt: 300 } }) 
db.pedidos.createIndex({"ciudad":1})

db.pedidos.find({ monto: { $gt: 300 },ciudad: "madrid" }).explain("executionStats")
db.pedidos.find({ ciudad: "Madrid", monto: { $gt: 300 } }).explain("executionStats")



[{$match: "producto" : " "},
 {$group: _id:"cliente", {total: $sum: total}},
 {$sort: {totalGastado: -1 }}
]


[{
  $group:{
    _id:{
      categoria: "categoria"
    },
    {

    }
  }
}]